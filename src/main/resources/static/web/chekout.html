<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="shortcut icon" href="assets/images/favicon-16x16.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../web/assets/css/shop.css">
    <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" />
</head>

<body id="app">
    <!-- NAV -->
    <nav class="min-h-[10vh] lg:min-h-[13vh] relative bg-[#1E1E1E] shadow-lg ">
        <div class="container px-6 py-6 mx-auto">
            <div class="lg:flex lg:items-center lg:justify-between">
                <div class="flex items-center justify-between w-full">
                    <div class="text-xl font-semibold text-gray-700">
                        <a class="text-2xl font-bold block transition-colors duration-300 transform text-white lg:text-3xl hover:text-gray-300"
                            href="#">
                            BALCAM '<span class="text-yellow-400">S</span>
                            <br>
                            <span class="text-center font-thin text-sm">shop</span>
                        </a>
                    </div>

                    <div class="pt-2 hidden lg:flex flex-col items-center justify-center">
                        <h1 class="text-3xl font-bold text-white">Shop Cart</h1>
                    </div>
                    <div class=" flex-row gap-2 justify-center items-center lg:flex hidden">
                        <button type="button" data-drawer-target="drawer-right-example"
                            data-drawer-show="drawer-right-example" data-drawer-placement="right"
                            aria-controls="drawer-right-example" v-cloak @click="isOpen = !isOpen" type="button"
                            class="hidden lg:block text-gray-200  hover:text-gray-400 focus:outline-none focus:text-gray-400"
                            aria-label="toggle menu">
                            <div
                                class="relative transition-colors duration-300 transform text-gray-200 hover:text-gray-300">
                                <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.70711 15.2929C4.07714 15.9229 4.52331 17 5.41421 17H17M17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17ZM9 19C9 20.1046 8.10457 21 7 21C5.89543 21 5 20.1046 5 19C5 17.8954 5.89543 17 7 17C8.10457 17 9 17.8954 9 19Z"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
    
                                <span class="absolute top-0 left-5 p-1 text-xs text-white bg-blue-500 rounded-full"></span>
                            </div>
                        </button>
                        <a href="./shop.html" class="text-white">Back to shop!</a>
                    </div>
                    <div class="flex justify-center items-center flex-col lg:hidden">
                        <button type="button"
                            class="block lg:hidden text-gray-200  hover:text-gray-400 focus:outline-none focus:text-gray-400"
                            aria-label="toggle menu">
                            <div
                                class="relative transition-colors duration-300 transform text-gray-200 hover:text-gray-300">
                                <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.70711 15.2929C4.07714 15.9229 4.52331 17 5.41421 17H17M17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17ZM9 19C9 20.1046 8.10457 21 7 21C5.89543 21 5 20.1046 5 19C5 17.8954 5.89543 17 7 17C8.10457 17 9 17.8954 9 19Z"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                                <span class="absolute top-0 left-5 p-1 text-xs text-white bg-blue-500 rounded-full"></span>
                            </div>
                        </button>
                        <p class="text-white">Back to shop!</p>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <section class="flex flex-col gap-5 justify-center lg:flex-row w-full ">
        <div class="gap-5 flex flex-col ">
            <div v-for="product in cartProducts" class="flex flex-row justify-around items-center w-[800px] h-[350px] border m-5" >
                <div class="h-24 w-24 flex justify-center items-center border ">
                    <img :src="product.urlImg">
                </div>
                <div class="flex w-64 flex-col justify-between items-center flex-wrap">
                    <div class="flex flex-col gap-2 flex-wrap">
                        <h2 class="font-medium text-xl">{{product.name}}</h2>
                        <h3 class="font-medium">{{product.productCategory}}</h3>
                        <p class="">
                            {{product.description}}
                        </p>
                        <hr>
                        <div class="flex justify-between items-center">
                            <div v-if="product.stock > 0" class="flex gap-3 items-center">
                                <ion-icon class="text-green-700 text-2xl" name="checkmark-outline"></ion-icon>
                                <p>Stock</p>
                            </div>
                            <div v-else class="flex gap-3 items-center">
                                <ion-icon class="text-red-700 text-2xl" name="close-outline"></ion-icon>
                                <p>No Stock!</p>
                            </div>
                            <h3 class="font-bold">{{moneyFormat.format(product.price)}}</h3>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col justify-around h-full">
                    <div class="flex justify-between w-[150px]">
                        <p class="font-medium text-xl justify-self-end self-start ">
                            {{product.quantity}}
                        </p>
                        <ion-icon @click="deleteItem(product)" class="text-2xl justify-self-end self-start " name="close-outline"></ion-icon>
                    </div>
                </div>
            </div>    
        </div>
        <div class="gap-5 h-[300px] flex flex-col p-5 bg-white">
            <div class="border p-5 w-[500px] bg-grey-200 flex flex-col br gap-5">
                <h2 class="text-bold text-xl">Order Sumary</h2>
                <hr>
                <div class="flex flex-col">
                    <div class="flex justify-between items-center m-3 border-b">
                        <p class="p-2">Subtotal</p>
                        <p>{{moneyFormat.format(subtotal)}}</p>
                    </div>
                    <div class="flex justify-between items-center m-3 border-b">
                        <p class="p-2">Shipping Estimate</p>
                        <p>{{moneyFormat.format(shippingEstimate)}}</p>
                    </div>
                    <div class="flex justify-between items-center m-3 border-b">
                        <p class="p-2">Tax Estimate</p>
                        <p>{{moneyFormat.format(subtotal * taxEstimate)}}</p>
                    </div>
                    <div class="flex justify-between items-center m-3">
                        <h3 class="font-bold">Order Total: </h3>
                        <h3 class="font-bold">{{moneyFormat.format(subtotal * (1 + taxEstimate) + shippingEstimate)}}</h3>
                    </div>
                </div>
                <button @click="makePayment" class="w-full bg-sky-500 rounded shadow text-white font-bold py-2">
                    Checkout
                </button>
            </div>
        </div>
    </section>

    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="../web/assets/js/shop.js"></script>
</body>

</html>